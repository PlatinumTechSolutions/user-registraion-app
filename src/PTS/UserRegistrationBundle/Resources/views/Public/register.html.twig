{% extends 'public.html.twig' %}

{% block body %}

    <div class="container">
        <div class="card card-container">
            <img id="profile-img" class="profile-img-card" src="/images/avatar.png" />

            {% for flash_message in app.session.flashbag.get('error') %}
                <div class="alert alert-danger"><b>Error!</b> {{ flash_message }}</div>
            {% endfor %}

            <form class="form-signin" method="POST" action="#">
                <input type="text" id="inputFirstName" class="form-control" placeholder="First Name" required autofocus>
                <input type="text" id="inputLastName" class="form-control" placeholder="Last Name" required>
                <input type="email" id="inputEmail" class="form-control" placeholder="Email" required>
                <input type="password" id="inputPassword" class="form-control" placeholder="Password" required>

                Password Strength:
                <div class="progress">
                    <div id="complexity-bar" class="progress-bar" role="progressbar">0%</div>
                </div>

                <button class="btn btn-lg btn-primary btn-block btn-signin" type="submit">Register</button>
            </form>
            <div class="pull-left">
                <a href="{{ path('login_route') }}" class="form-signin-link">
                    Login
                </a>
            </div>
        </div>
    </div>

{% endblock %}

{% block javascripts %}

<script type="text/javascript" src="/js/jquery.complexify.min.js"></script>
<script type="text/javascript">

(function($) {
    $('#inputPassword').complexify({}, function (valid, complexity) {
        var progressBar = $('#complexity-bar');

        progressBar.toggleClass('progress-bar-success', valid);
        progressBar.toggleClass('progress-bar-danger', !valid);
        progressBar.css({'width': complexity + '%'});
        progressBar.text(Math.round(complexity) + '%');
    });
})(jQuery);

</script>
{% endblock %}
